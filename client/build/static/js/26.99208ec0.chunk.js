(this["webpackJsonpcinema-plus-client"]=this["webpackJsonpcinema-plus-client"]||[]).push([[26],{449:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return be}));var n=t(241),r=t(32),i=t(33),o=t(35),l=t(34),c=t(0),s=t.n(c),m=t(27),d=t(214),u=t(7),g=t(10),p=t.n(g),f=t(154),h=t(290),v=t(291),E=t(48),b=t(257),y=t(292),x=t.n(y),N=t(68),F=t.n(N),k=Object(f.a)((function(e){return{root:{height:"100%"},content:{alignItems:"center",display:"flex"},title:{fontWeight:700},avatar:{backgroundColor:e.palette.success.main,height:56,width:56},icon:{height:32,width:32},difference:{marginTop:e.spacing(2),display:"flex",alignItems:"center"},differenceIcon:{color:e.palette.success.dark},differenceValue:{color:e.palette.success.dark,marginRight:e.spacing(1)}}})),C=function(e){var a=e.className,t=e.users,n=k();return s.a.createElement(h.a,{className:p()(n.root,a)},s.a.createElement(v.a,null,s.a.createElement(d.a,{container:!0,justify:"space-between"},s.a.createElement(d.a,{item:!0},s.a.createElement(E.a,{className:n.title,color:"textSecondary",gutterBottom:!0,variant:"body2"},"TOTAL USERS"),s.a.createElement(E.a,{variant:"h3"},t)),s.a.createElement(d.a,{item:!0},s.a.createElement(b.a,{className:n.avatar},s.a.createElement(F.a,{className:n.icon})))),s.a.createElement("div",{className:n.difference},s.a.createElement(x.a,{className:n.differenceIcon}),s.a.createElement(E.a,{className:n.differenceValue,variant:"body2"},"16%"),s.a.createElement(E.a,{className:n.caption,variant:"caption"},"Since last month"))))},w=t(259),I=t.n(w),T=t(258),O=t.n(T),B=Object(f.a)((function(e){return{root:{height:"100%"},content:{alignItems:"center",display:"flex"},title:{fontWeight:700},avatar:{backgroundColor:e.palette.error.main,height:56,width:56},icon:{height:32,width:32},difference:{marginTop:e.spacing(2),display:"flex",alignItems:"center"},differenceIcon:{color:e.palette.error.dark},differenceValue:{color:e.palette.error.dark,marginRight:e.spacing(1)}}})),j=function(e){var a=e.className,t=e.cinemas,n=B();return s.a.createElement(h.a,{className:p()(n.root,a)},s.a.createElement(v.a,null,s.a.createElement(d.a,{container:!0,justify:"space-between"},s.a.createElement(d.a,{item:!0},s.a.createElement(E.a,{className:n.title,color:"textSecondary",gutterBottom:!0,variant:"body2"},"TOTAL CINEMAS"),s.a.createElement(E.a,{variant:"h3"},t)),s.a.createElement(d.a,{item:!0},s.a.createElement(b.a,{className:n.avatar},s.a.createElement(O.a,{className:n.icon})))),s.a.createElement("div",{className:n.difference},s.a.createElement(I.a,{className:n.differenceIcon}),s.a.createElement(E.a,{className:n.differenceValue,variant:"body2"},"16%"),s.a.createElement(E.a,{className:n.caption,variant:"caption"},"Since last month"))))},A=Object(f.a)((function(e){return{root:{height:"100%"},content:{alignItems:"center",display:"flex"},title:{fontWeight:700},avatar:{backgroundColor:e.palette.error.main,height:56,width:56},icon:{height:32,width:32},difference:{marginTop:e.spacing(2),display:"flex",alignItems:"center"},differenceIcon:{color:e.palette.error.dark},differenceValue:{color:e.palette.error.dark,marginRight:e.spacing(1)}}})),S=function(e){var a=e.className,t=e.movies,n=A();return s.a.createElement(h.a,{className:p()(n.root,a)},s.a.createElement(v.a,null,s.a.createElement(d.a,{container:!0,justify:"space-between"},s.a.createElement(d.a,{item:!0},s.a.createElement(E.a,{className:n.title,color:"textSecondary",gutterBottom:!0,variant:"body2"},"TOTAL MOVIES"),s.a.createElement(E.a,{variant:"h3"},t)),s.a.createElement(d.a,{item:!0},s.a.createElement(b.a,{className:n.avatar},s.a.createElement(O.a,{className:n.icon})))),s.a.createElement("div",{className:n.difference},s.a.createElement(I.a,{className:n.differenceIcon}),s.a.createElement(E.a,{className:n.differenceValue,variant:"body2"},"16%"),s.a.createElement(E.a,{className:n.caption,variant:"caption"},"Since last month"))))},D=t(293),M=t.n(D),R=Object(f.a)((function(e){return{root:{height:"100%",backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},content:{alignItems:"center",display:"flex"},title:{fontWeight:700},avatar:{backgroundColor:e.palette.white,color:e.palette.primary.main,height:56,width:56},icon:{height:32,width:32}}})),L=function(e){var a=e.className,t=e.reservations,n=R();return s.a.createElement(h.a,{className:p()(n.root,a)},s.a.createElement(v.a,null,s.a.createElement(d.a,{container:!0,justify:"space-between"},s.a.createElement(d.a,{item:!0},s.a.createElement(E.a,{className:n.title,color:"inherit",gutterBottom:!0,variant:"body2"},"TOTAL RESERVATIONS"),s.a.createElement(E.a,{color:"inherit",variant:"h3"},t)),s.a.createElement(d.a,{item:!0},s.a.createElement(b.a,{className:n.avatar},s.a.createElement(M.a,{className:n.icon}))))))},V=t(260),W=t(437),z=t(152),U=t(197),P=t(438),J=t(388),Z=t.n(J),_=t(389),q=t.n(_),G=t(180),H=t(181),K=t(182),Q=t(70),X=t(436),Y={type:"light",common:{black:"#000",white:"#FFF",commonBackground:"#FFF",contrastText:"#000",neutral:"#E4E7EB",muted:"#9EA0A4"},default:{light:"rgba(41, 150, 243, .1)",main:"rgba(0, 40, 73, .9)",dark:"rgb(0, 40, 73)",logoBg:"rgb(51, 51, 51)",border:"rgba(0, 40, 73, .1)",contrastText:"#FFF"},primary:{contrastText:"#FFF",main:"#0767DB",light:"#F6F9FD",dark:"#0B48A0"},secondary:{contrastText:"#FFF",main:"#7d58ff",light:"",dark:"#37248F"},success:{light:G.a[300],main:G.a[500],dark:G.a[700],contrastText:"#FFF"},info:{light:H.a[300],main:H.a[500],dark:H.a[700],contrastText:"#FFF"},warning:{light:K.a[300],main:K.a[500],dark:K.a[700],contrastText:"#FFF"},danger:{light:Q.a[300],main:Q.a[500],dark:Q.a[700],contrastText:"#FFF"},text:{primary:X.a[900],secondary:X.a[600],link:H.a[600]},background:{default:"#f8fafc",dark:"rgb(26, 26, 26)",paper:"#FFF"},border:"#DFE3E8",divider:"#DFE3E8",oxfordBlue:"rgba(5, 41, 73, 1)",prussianBlue:"rgba(19, 49, 92, 1)",darkCerulean:"rgba(19, 64, 116, 1)",pewterBlue:"rgba(141, 169, 196, 1)",isabelline:"rgba(238, 244, 237, 1)"},$=(Y.primary.main,{responsive:!0,maintainAspectRatio:!1,animation:!1,legend:{display:!1},cornerRadius:20,tooltips:{enabled:!0,mode:"index",intersect:!1,borderWidth:1,borderColor:Y.divider,backgroundColor:Y.white,titleFontColor:Y.text.primary,bodyFontColor:Y.text.secondary,footerFontColor:Y.text.secondary},layout:{padding:0},scales:{xAxes:[{barThickness:12,maxBarThickness:10,barPercentage:.5,categoryPercentage:.5,ticks:{fontColor:Y.text.secondary},gridLines:{display:!1,drawBorder:!1}}],yAxes:[{ticks:{fontColor:Y.text.secondary,beginAtZero:!0,min:0},gridLines:{borderDash:[2],borderDashOffset:[2],color:Y.divider,drawBorder:!1,zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2],zeroLineColor:Y.divider}}]}}),ee=Object(f.a)((function(){return{root:{},chartContainer:{height:400,position:"relative"},actions:{justifyContent:"flex-end"}}})),ae=function(e){var a=e.className,t=e.bestMovies,n=ee(),r={labels:t.map((function(e){return e.movie.title.toUpperCase()})),datasets:[{label:"This year",backgroundColor:Y.primary.main,data:t.map((function(e){return e.count}))},{label:"Last year",backgroundColor:Y.neutral,data:[11,20,12,29,30]}]};return s.a.createElement(h.a,{className:p()(n.root,a)},s.a.createElement(W.a,{action:s.a.createElement(z.a,{size:"small",variant:"text"},"Best 5",s.a.createElement(Z.a,null)),title:"Best Movies"}),s.a.createElement(U.a,null),s.a.createElement(v.a,null,s.a.createElement("div",{className:n.chartContainer},s.a.createElement(V.Bar,{data:r,options:$}))),s.a.createElement(U.a,null),s.a.createElement(P.a,{className:n.actions},s.a.createElement(z.a,{color:"primary",size:"small",variant:"text"},"Overview ",s.a.createElement(q.a,null))))},te=t(15),ne=t(78),re=t(203),ie=t(390),oe=t.n(ie),le=t(392),ce=t.n(le),se=t(393),me=t.n(se),de=t(391),ue=t.n(de),ge=["className"],pe=Object(f.a)((function(e){return{root:{height:"100%"},chartContainer:{position:"relative",height:"300px"},stats:{marginTop:e.spacing(2),display:"flex",justifyContent:"center"},device:{textAlign:"center",padding:e.spacing(1)},deviceIcon:{color:e.palette.icon}}})),fe=function(e){var a=e.className,t=Object(te.a)(e,ge),n=pe(),r=Object(ne.a)(),i={datasets:[{data:[63,15,22],backgroundColor:[r.palette.primary.main,r.palette.error.main,r.palette.warning.main],borderWidth:8,borderColor:r.palette.white,hoverBorderColor:r.palette.white}],labels:["Desktop","Tablet","Mobile"]},o={legend:{display:!1},responsive:!0,maintainAspectRatio:!1,animation:!1,cutoutPercentage:80,layout:{padding:0},tooltips:{enabled:!0,mode:"index",intersect:!1,borderWidth:1,borderColor:r.palette.divider,backgroundColor:r.palette.white,titleFontColor:r.palette.text.primary,bodyFontColor:r.palette.text.secondary,footerFontColor:r.palette.text.secondary}},l=[{title:"Desktop",value:"63",icon:s.a.createElement(oe.a,null),color:r.palette.primary.main},{title:"Tablet",value:"15",icon:s.a.createElement(ue.a,null),color:r.palette.error.main},{title:"Mobile",value:"23",icon:s.a.createElement(ce.a,null),color:r.palette.warning.main}];return s.a.createElement(h.a,Object.assign({},t,{className:p()(n.root,a)}),s.a.createElement(W.a,{action:s.a.createElement(re.a,{size:"small"},s.a.createElement(me.a,null)),title:"Users By Device"}),s.a.createElement(U.a,null),s.a.createElement(v.a,null,s.a.createElement("div",{className:n.chartContainer},s.a.createElement(V.Doughnut,{data:i,options:o})),s.a.createElement("div",{className:n.stats},l.map((function(e){return s.a.createElement("div",{className:n.device,key:e.title},s.a.createElement("span",{className:n.deviceIcon},e.icon),s.a.createElement(E.a,{variant:"body1"},e.title),s.a.createElement(E.a,{style:{color:e.color},variant:"h2"},e.value,"%"))})))))},he=t(49),ve=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(){var e;Object(r.a)(this,t);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(e=a.call.apply(a,[this].concat(o))).getBestMovies=function(e,a){var t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,i=e.map((function(a){return{movieId:a.movieId,count:e.filter((function(e){return e.movieId===a.movieId})).length}})),o=[],l=new Map,c=Object(n.a)(i);try{for(c.s();!(t=c.n()).done;){var s=t.value;l.has(s.movieId)||(l.set(s.movieId,!0),o.push({movieId:s.movieId,count:s.count}))}}catch(m){c.e(m)}finally{c.f()}return o.sort((function(e,a){return a.count-e.count})).slice(0,r).map((function(e){return{movie:a.find((function(a){return a._id===e.movieId})),count:e.count}}))},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers(),this.props.getCinemas(),this.props.getMovies(),this.props.getReservations()}},{key:"render",value:function(){var e=this.props,a=e.classes,t=e.users,n=e.cinemas,r=e.movies,i=e.reservations;return s.a.createElement("div",{className:a.root},s.a.createElement(d.a,{container:!0,spacing:4},s.a.createElement(d.a,{item:!0,lg:3,sm:6,xl:3,xs:12},s.a.createElement(C,{users:t.length})),s.a.createElement(d.a,{item:!0,lg:3,sm:6,xl:3,xs:12},s.a.createElement(j,{cinemas:n.length})),s.a.createElement(d.a,{item:!0,lg:3,sm:6,xl:3,xs:12},s.a.createElement(S,{movies:r.length})),s.a.createElement(d.a,{item:!0,lg:3,sm:6,xl:3,xs:12},s.a.createElement(L,{reservations:i.length})),s.a.createElement(d.a,{item:!0,lg:8,md:12,xl:9,xs:12},s.a.createElement(ae,{bestMovies:this.getBestMovies(i,r,5)})),s.a.createElement(d.a,{item:!0,lg:4,md:6,xl:3,xs:12},s.a.createElement(fe,null))))}}]),t}(c.Component),Ee={getUsers:he.r,getCinemas:he.j,getMovies:he.n,getReservations:he.o},be=Object(m.b)((function(e){var a=e.userState,t=e.cinemaState,n=e.movieState,r=e.reservationState;return{users:a.users,cinemas:t.cinemas,movies:n.movies,reservations:r.reservations}}),Ee)(Object(u.a)((function(e){return{root:{textAlign:"center",padding:e.spacing(4)}}}))(ve))}}]);
//# sourceMappingURL=26.99208ec0.chunk.js.map